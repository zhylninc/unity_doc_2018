<html><head><title>html模版</title></head><body>Unity - Manual: Configuring the Avatar</br>
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual (2018.1 beta)</a></li>
<li><a href="AnimationSection.html">Animation</a></li>
<li><a href="AnimationClips.html">Animation Clips</a></li>
<li><a href="AnimationsImport.html">Animation from external sources </a></li>
<li><a href="AvatarCreationandSetup.html">Working with humanoid animations</a></li>
<li>Configuring the Avatar</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-Avatar.html"></a></span><div class="tip">Creating the Avatar</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="MuscleDefinitions.html"></a></span><div class="tip">Muscle setup</div>
</div>
</div></div>
<div class="otherversionswrapper" onmouseover="setOtherVersionsDisplay(true)" onmouseout="setOtherVersionsDisplay(false)">
<a>Other Versions</a><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">Cannot access other versions offline!</div>
</div>
<div class="scrollToFeedback"><a id="scrollToFeedback">Leave feedback</a></div>
<h1>Configuring the Avatar</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Since the <strong>Avatar</strong> is such an important aspect of the Mecanim system, it is important that it is configured properly for your model. So, whether the <a href="class-Avatar.html">automatic Avatar creation</a> fails or succeeds, you need to go into the <strong>Configure Avatar</strong> mode to ensure your Avatar is valid and properly set up. It is important that your character’s bone structure matches Mecanim’s predefined bone structure <em>and</em> that the model is in T-pose.</p>

<p>If the automatic Avatar creation fails, you will see a cross next to the <em>Configure</em> button. </p>

<figure>
<img src="../uploads/Main/MecanimAvatarInvalid.png" alt="">
</figure>

<p>If it succeeds, you will see a check/tick mark:</p>

<figure>
<img src="../uploads/Main/MecanimAvatarApplied.png" alt="">
</figure>

<p>Here, success simply means all of the required bones have been matched but for better results, you might want to match the optional bones as well and get the model into a proper T-pose.</p>

<p>When you go to the <strong>Configure …</strong> menu, the editor will ask you to save your scene. The reason for this is that in <strong>Configure</strong> mode, the Scene View is used to display bone, muscle and animation information for the selected model alone, without displaying the rest of the scene.</p>

<figure>
<img src="../uploads/Main/MecanimConfigureAvatarSaveDialog.png" alt="">
</figure>

<p>Once you have saved the scene, you will see a new <strong>Avatar Configuration</strong> inspector, with a bone mapping.</p>

<figure>
<img src="../uploads/Main/MecanimAvatarMappingValid.png" alt="">
</figure>

<p>The inspector shows which of the bones are required and which are optional - the optional ones can have their movements interpolated automatically. For Mecanim to produce a valid match, your skeleton needs to have at least the required bones in place. In order to improve your chances for finding a match to the Avatar, name your bones in a way that reflects the body parts they represent (names like “LeftArm”, “RightForearm” are suitable here). </p>

<p>If the model does NOT yield a valid match, you can manually follow a similar process to the one used internally by Mecanim:- </p>

<ol>
<li>
<strong>Sample Bind-pose</strong> (try to get the model closer to the pose with which it was modelled, a sensible initial pose)</li>
<li>
<strong>Automap</strong> (create a bone-mapping from an initial pose)</li>
<li>
<strong>Enforce T-pose</strong> (force the model closer to T-pose, which is the default pose used by Mecanim animations)</li>
</ol>

<figure>
<img src="../uploads/Main/MecanimPoseMenus.png" alt="">
</figure>

<p>If the auto-mapping (<strong>Mapping-&gt;Automap</strong>) fails completely or partially, you can assign bones by either draging them from the <strong>Scene</strong> or from the <strong>Hierarchy</strong>. If Mecanim thinks a bone fits, it will show up as green in the <strong>Avatar Inspector</strong>, otherwise it shows up in red. </p>

<p>Finally, if the bone assignment is correct, but the character is not in the correct <em>pose</em>, you will see the message “Character not in T-Pose”. You can try to fix that with <strong>Enforce T-Pose</strong> or rotate the remaining bones into T-pose. </p>

<figure>
<img src="../uploads/Main/MecanimMappingMenus.png" alt="">
</figure>

<h2>Avatar Body Masks</h2>

<p>Sometimes it is useful to restrict an animation to specific body parts. For example, an walking animation might involve the character swaying their arms, but if they pick up a torch, they should hold it up to cast light. You can use an <strong>Avatar Body Mask</strong> to specify which parts of a character an animation should be restricted to. See documentation on <a href="class-AvatarMask.html">Avatar Masks</a> for further details.</p>
<div class="feedbackbox" id="feedbackbox">
<div id="rating"><p>Did you find this page useful? Please give it a rating:<br><div id="ratecontent" class="c-rating"></div>
</p></div>
<div id="ratingThanks" style="display:none"><p>Thanks for rating this page!</p></div>
<div id="problem"><p><a name="problem" onclick="document.getElementById('problemType').style.display = '';document.getElementById('problem').style.display = 'none';">Report a problem on this page</a></p></div>
<div id="problemType" style="display:none"><p>What kind of problem would you like to report?<ul type="problems">
<li><a name="needcode" onclick="                                                             document.getElementById('problemType').style.display = 'none';                                                             document.getElementById('problemThanks').style.display = '';                                                             SendFeedback('problem-needcode',window.location.href,0);                                                             document.getElementById('problemFormDescription').value='Needs code samples.';                                                             document.getElementById('problemNeedCodeForm').style.display = ''                                                         ">This page needs code samples</a></li>
<li><a name="code" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-brokencode',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Code samples do not work.';                                                         document.getElementById('problemCodeForm').style.display = ''                                                         ">Code samples do not work</a></li>
<li><a name="missing" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-missing',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Missing information';                                                         document.getElementById('problemMissingForm').style.display = ''                                                         ">Information is missing</a></li>
<li><a name="incorrect" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-incorrect',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Incorrect information';                                                         document.getElementById('problemIncorrectForm').style.display = ''                                                         ">Information is incorrect</a></li>
<li><a name="unclear" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-unclear',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Unclear or confusing information';                                                         document.getElementById('problemUnclearForm').style.display = ''                                                         ">Information is unclear or confusing</a></li>
<li><a name="language" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-language',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='Spelling or grammar error';                                                         document.getElementById('problemLanguageForm').style.display = ''                                                         ">There is a spelling/grammar error on this page</a></li>
<li><a name="other" onclick="document.getElementById('problemType').style.display = 'none';                                                         document.getElementById('problemThanks').style.display = '';                                                         SendFeedback('problem-other',window.location.href,0);                                                         document.getElementById('problemFormDescription').value='This page has a problem';                                                         document.getElementById('problemOtherForm').style.display = ''                                                         ">Something else</a></li>
</ul>
<p><known_issues><p>Is something described here not working as you expect it to? It might be a <b>Known Issue</b>. Please check with the Issue Tracker at <a href="https://issuetracker.unity3d.com">issuetracker.unity3d.com</a>.</p></known_issues></p>
</p></div>
<div id="problemThanks" style="display:none"><p>Thanks for letting us know! This page has been marked for review based on your feedback.<br><br>If you have time, you can provide more information to help us fix the problem faster.<br><br><a onclick="document.getElementById('problemMoreInfo').style.display = '';document.getElementById('problemThanks').style.display = 'none';">Provide more information</a><br>
</p></div>
<div id="problemMoreInfo" style="display:none">
<p id="problemNeedCodeForm" style="display:none">You've told us this page needs code samples. If you'd like to help us further, you could provide a code sample, or tell us about what kind of code sample you'd like to see:</p>
<p id="problemCodeForm" style="display:none">You've told us there are code samples on this page which don't work. If you know how to fix it, or have something better we could use instead, please let us know:</p>
<p id="problemMissingForm" style="display:none">You've told us there is information missing from this page. Please tell us more about what's missing:</p>
<p id="problemIncorrectForm" style="display:none">You've told us there is incorrect information on this page. If you know what we should change to make it correct, please tell us:</p>
<p id="problemUnclearForm" style="display:none">You've told us this page has unclear or confusing information. Please tell us more about what you found unclear or confusing, or let us know how we could make it clearer:</p>
<p id="problemLanguageForm" style="display:none">You've told us there is a spelling or grammar error on this page. Please tell us what's wrong:</p>
<p id="problemOtherForm" style="display:none">You've told us this page has a problem. Please tell us more about what's wrong:</p>
<form>
<textarea id="problemFormSuggestionField" cols="40" rows="5"></textarea><input type="hidden" id="problemFormDescription"><input type="submit" id="problemFormDescriptionSubmit" value="Submit" onclick="                                             document.getElementById('problemMoreInfo').style.display = 'none';                                             document.getElementById('problemMoreInfoThanks').style.display = '';                                             return false;                                             ">
</form>
</div>
<div id="problemMoreInfoThanks" style="display:none"><p>Thanks for helping to make the Unity documentation better!</p></div>
<script>

                                            var ratecontent = document.querySelector('#ratecontent'); // target element
                                            var currentRating = 0; // initial rating
                                            var maxRating= 5; // max rating

                                            // callback to run after setting the rating
                                            var callback = function(rating) {
                                                document.getElementById('ratingThanks').style.display = '';
                                                document.getElementById('ratecontent').style.display = 'none';
                                                document.getElementById('rating').style.display = 'none';
                                                SendFeedback("rating",window.location.href,rating);
                                            };

                                            // rating instance
                                            var myRating = rating(ratecontent, currentRating, maxRating, callback);
                                        </script>
</div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="class-Avatar.html"></a></span><div class="tip">Creating the Avatar</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="MuscleDefinitions.html"></a></span><div class="tip">Muscle setup</div>
</div>
</div>
</div>
</body></html>